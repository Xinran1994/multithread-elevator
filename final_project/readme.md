# multithread-elevator
This is CIS691 Multithreading(2020spring) final project in Syracuse Univeristy. In this elevator-simulation project, elevators will be scheduled to finish a certain number of requests.

# Compile
Using Vissual Studio 2019

# Demo ScreenShots


# Design
## Class
### elevator
there are four elevator threads serve the requests from passenger's departure to destination
### passenger
there is one passenger thread generate request every interval time and each passenger have departure, destination and direction
## Thread
* four elevator thread
* one passenger thread
* one scheduler thread
* main thread makes TCP connection
## Logic
* There are 4 elevators (four elevator threads) available to take passengers up and down the floors of a 30 floor building
* Each elevator have three status: down, up and idle
* It takes each elevator 3 seconds of moving to move between each floor
* the time asking for an elevator, their starting floor, and their destination floor random generated by passenger thread
* When an elevator arrives at a floor, it picks up all of the passengers waiting at the floor, up to the maximum capacity of 8, and then starts moving to the next target floor 
* If stopped and there is no request in current direction, the elevator either begins moving up or moving down depending on the direction needed to pick up the passenger
* When stopped at a floor, if there are any passengers in the elevator with that end Floor as a destination, it discharges the passengers. Then, if there are any passengers with that floor as their start floor it picks up passengers up to the capacity of the elevator
* Each passenger decides which floor to go when generated
## Shared Resource
A map hold mutex for each floor
A map contains waiting passenger's list for each floor